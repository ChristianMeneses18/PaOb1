package com.ayudamos.logica;

import java.util.ArrayList;
import java.util.List;

public class ManejadorUsuario {
	private static ManejadorUsuario instancia = null;
	private List<Usuario> usuarios = new ArrayList<>();
	
	
	public static ManejadorUsuario getInstancia() {
		if (instancia == null)
			instancia = new ManejadorUsuario();
		return instancia;
	}
	
	public void agregarUsuario(Usuario usuario) {
		usuarios.add(usuario);
	}
	
	public Usuario BuscarUsuario(String email) {
		Usuario aretornar=null;
		if (email == null) {
	        return null; 
	    }
		
		for(Usuario u: usuarios) {
			if (u.getEmail().equals(email))
				aretornar=u;
		}
		return aretornar;
	}
	
	public ArrayList<Usuario> obtenerBeneficiarios() {
	    ArrayList<Usuario> aRetornar = new ArrayList<>();
	    for (Usuario u : usuarios) {
	        if (u instanceof Beneficiario) {
	            Beneficiario b = (Beneficiario) u; 
	            
	            Beneficiario nuevoBeneficiario = new Beneficiario();
	           
	            nuevoBeneficiario.setNombre(b.getNombre());
	            nuevoBeneficiario.setEmail(b.getEmail());
	            nuevoBeneficiario.setDireccion(b.getDireccion());
	            nuevoBeneficiario.setFechaNacimiento(b.getFechaNacimiento());
	            nuevoBeneficiario.setEstado(b.getEstado());
	            nuevoBeneficiario.setBarrio(b.getBarrio());
	            nuevoBeneficiario.setDistribucion(b.getDistribucion());

	            aRetornar.add(nuevoBeneficiario);
	        }else {
	        	Repartidor r = (Repartidor) u; 
	        	
	        	Repartidor nuevoRepartidor = new Repartidor();
	        	nuevoRepartidor.setNombre(r.getNombre());
	            nuevoRepartidor.setEmail(r.getEmail());
	            nuevoRepartidor.setNumeroLicencia(r.getNumeroLicencia());
	        }
	        
	    }
	    return aRetornar;
	}


}
