package com.ayudamos.presentacion;

import java.awt.EventQueue;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.DefaultComboBoxModel;
import javax.swing.JComboBox;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.SwingConstants;
import javax.swing.JFrame;
import javax.swing.JInternalFrame;
import javax.swing.JButton;
import com.toedter.calendar.JDateChooser;
import com.ayudamos.enums.Barrio;
import com.ayudamos.enums.EstadoBeneficiario;

public class AgregarUsuario extends JInternalFrame {

    private static final long serialVersionUID = 1L;
    private JTextField txtCedula;
    private JTextField txtEmail;
    private JTextField txtDireccion;
    private JTextField txtLicencia;
    private JComboBox<EstadoBeneficiario> comboBoxEstado;
    private JComboBox<Barrio> comboBoxBarrio;
    private JDateChooser dateChooser;

    /**
     * Launch the application.
     */
    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    JFrame frame = new JFrame();
                    AgregarUsuario internalFrame = new AgregarUsuario();
                    frame.setContentPane(internalFrame.getContentPane());
                    frame.setBounds(100, 100, 503, 594);
                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                    frame.setVisible(true);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }

    /**
     * Create the frame.
     */
    public AgregarUsuario() {
        setTitle("Alta de Usuario");
        setBounds(100, 100, 503, 594);
        getContentPane().setLayout(null);

        txtCedula = new JTextField();
        txtCedula.setBounds(180, 100, 200, 30);
        txtCedula.setFont(txtCedula.getFont().deriveFont(18f));
        txtCedula.setToolTipText("Ingrese la cédula del usuario");
        getContentPane().add(txtCedula);
        txtCedula.setColumns(10);

        JLabel lblTitulo = new JLabel("Alta de Usuario");
        lblTitulo.setHorizontalAlignment(SwingConstants.CENTER);
        lblTitulo.setFont(lblTitulo.getFont().deriveFont(30f));
        lblTitulo.setBounds(100, 30, 300, 30);
        getContentPane().add(lblTitulo);

        JLabel lblCedula = new JLabel("Cédula:");
        lblCedula.setFont(lblCedula.getFont().deriveFont(18f));
        lblCedula.setBounds(100, 100, 80, 30);
        getContentPane().add(lblCedula);

        JLabel lblEmail = new JLabel("Email:");
        lblEmail.setFont(lblEmail.getFont().deriveFont(18f));
        lblEmail.setBounds(100, 150, 80, 30);
        getContentPane().add(lblEmail);

        txtEmail = new JTextField();
        txtEmail.setBounds(180, 150, 200, 30);
        txtEmail.setFont(txtEmail.getFont().deriveFont(18f));
        getContentPane().add(txtEmail);
        txtEmail.setColumns(10);

        JLabel lblTipoUsuario = new JLabel("Tipo de Usuario:");
        lblTipoUsuario.setFont(lblTipoUsuario.getFont().deriveFont(18f));
        lblTipoUsuario.setBounds(100, 200, 150, 30);
        getContentPane().add(lblTipoUsuario);

        JComboBox<String> comboBoxTipo = new JComboBox<>(new String[] {"Beneficiario", "Repartidor"});
        comboBoxTipo.setFont(comboBoxTipo.getFont().deriveFont(18f));
        comboBoxTipo.setBounds(260, 200, 120, 30);
        getContentPane().add(comboBoxTipo);

        JLabel lblFechaNacimiento = new JLabel("Fecha de Nacimiento:");
        lblFechaNacimiento.setFont(lblFechaNacimiento.getFont().deriveFont(18f));
        lblFechaNacimiento.setBounds(100, 250, 200, 30);
        getContentPane().add(lblFechaNacimiento);

        dateChooser = new JDateChooser();
        dateChooser.setBounds(260, 250, 120, 30);
        getContentPane().add(dateChooser);

        JLabel lblDireccion = new JLabel("Dirección:");
        lblDireccion.setFont(lblDireccion.getFont().deriveFont(18f));
        lblDireccion.setBounds(100, 300, 100, 30);
        getContentPane().add(lblDireccion);

        txtDireccion = new JTextField();
        txtDireccion.setBounds(180, 300, 200, 30);
        txtDireccion.setFont(txtDireccion.getFont().deriveFont(18f));
        getContentPane().add(txtDireccion);
        txtDireccion.setColumns(10);

        JLabel lblEstado = new JLabel("Estado:");
        lblEstado.setFont(lblEstado.getFont().deriveFont(18f));
        lblEstado.setBounds(100, 350, 80, 30);
        getContentPane().add(lblEstado);

        comboBoxEstado = new JComboBox<>(EstadoBeneficiario.values());
        comboBoxEstado.setFont(comboBoxEstado.getFont().deriveFont(18f));
        comboBoxEstado.setBounds(180, 350, 200, 30);
        getContentPane().add(comboBoxEstado);

        JLabel lblBarrio = new JLabel("Barrio:");
        lblBarrio.setFont(lblBarrio.getFont().deriveFont(18f));
        lblBarrio.setBounds(100, 400, 80, 30);
        getContentPane().add(lblBarrio);

        comboBoxBarrio = new JComboBox<>(Barrio.values());
        comboBoxBarrio.setFont(comboBoxBarrio.getFont().deriveFont(18f));
        comboBoxBarrio.setBounds(180, 400, 200, 30);
        getContentPane().add(comboBoxBarrio);

        JLabel lblLicencia = new JLabel("Número de Licencia:");
        lblLicencia.setFont(lblLicencia.getFont().deriveFont(18f));
        lblLicencia.setBounds(100, 450, 200, 30);
        getContentPane().add(lblLicencia);

        txtLicencia = new JTextField();
        txtLicencia.setBounds(260, 450, 120, 30);
        txtLicencia.setFont(txtLicencia.getFont().deriveFont(18f));
        getContentPane().add(txtLicencia);
        txtLicencia.setColumns(10);

        // Add action listener to JComboBox to handle visibility changes
        comboBoxTipo.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                String tipoSeleccionado = (String) comboBoxTipo.getSelectedItem();
                boolean esRepartidor = "Repartidor".equals(tipoSeleccionado);
                txtDireccion.setVisible(!esRepartidor);
                lblDireccion.setVisible(!esRepartidor);
                dateChooser.setVisible(!esRepartidor);
                lblFechaNacimiento.setVisible(!esRepartidor);
                comboBoxEstado.setVisible(!esRepartidor);
                lblEstado.setVisible(!esRepartidor);
                comboBoxBarrio.setVisible(!esRepartidor);
                lblBarrio.setVisible(!esRepartidor);
                txtLicencia.setVisible(esRepartidor);
                lblLicencia.setVisible(esRepartidor);
            }
        });
    }
}
