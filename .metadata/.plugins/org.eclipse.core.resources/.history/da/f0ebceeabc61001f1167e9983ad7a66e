package com.ayudamos.presentacion;

import java.awt.EventQueue;

import javax.swing.JInternalFrame;
import javax.swing.JTextField;
import javax.swing.JLabel;
import java.awt.Font;
import java.awt.event.ItemEvent;
import java.awt.event.ItemListener;
import javax.swing.SwingConstants;
import javax.swing.JComboBox;
import javax.swing.DefaultComboBoxModel;
import javax.swing.JPanel;
import com.toedter.calendar.JDateChooser;
import com.ayudamos.enums.Barrio;
import com.ayudamos.enums.EstadoBeneficiario;
import com.jgoodies.forms.layout.FormLayout;
import com.jgoodies.forms.layout.ColumnSpec;
import com.jgoodies.forms.layout.RowSpec;
import com.jgoodies.forms.layout.FormSpecs;

public class AgregarUsuario extends JInternalFrame {

	private static final long serialVersionUID = 1L;
	 private JTextField txtCedula;
	    private JTextField txtEmail;
	    private JTextField txtDireccion;
	    private JTextField txtLicencia;
	    private JComboBox<String> comboBox;
	    private JDateChooser dateChooser;
	    private JComboBox<Barrio> comboBoxBarrio;
	    private JComboBox<EstadoBeneficiario> comboBoxEstado;
	    private JLabel lblDireccion;
	    private JLabel lblFechaNacimiento;
	    private JLabel lblBarrio;
	    private JLabel lblEstado;
	    private JLabel lblLicencia;

	/**
	 * Launch the application.
	 */
	public static void main(String[] args) {
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					AgregarUsuario frame = new AgregarUsuario();
					frame.setVisible(true);
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
	}

	/**
	 * Create the frame.
	 */
	public AgregarUsuario() {
		setTitle("Alta de Usuario");
		setBounds(100, 100, 503, 594);
		getContentPane().setLayout(new FormLayout(new ColumnSpec[] {
				ColumnSpec.decode("238px"),
				ColumnSpec.decode("38px"),
				ColumnSpec.decode("211px"),},
			new RowSpec[] {
				FormSpecs.UNRELATED_GAP_ROWSPEC,
				RowSpec.decode("37px"),
				FormSpecs.UNRELATED_GAP_ROWSPEC,
				RowSpec.decode("20px"),
				FormSpecs.UNRELATED_GAP_ROWSPEC,
				RowSpec.decode("22px"),
				RowSpec.decode("24px"),
				RowSpec.decode("22px"),
				RowSpec.decode("31px"),
				RowSpec.decode("23px"),
				FormSpecs.PARAGRAPH_GAP_ROWSPEC,
				RowSpec.decode("20px"),
				RowSpec.decode("max(5dlu;default)"),
				RowSpec.decode("24px"),
				FormSpecs.RELATED_GAP_ROWSPEC,
				RowSpec.decode("27px"),}));
		
		JLabel lblCedula = new JLabel("Cedula:");
        lblCedula.setFont(new Font("Tahoma", Font.PLAIN, 18));
        getContentPane().add(lblCedula, "1, 4, center, fill");

        lblDireccion = new JLabel("Direccion:");
        lblDireccion.setFont(new Font("Tahoma", Font.PLAIN, 18));
        getContentPane().add(lblDireccion, "1, 10, center, center");

        lblFechaNacimiento = new JLabel("Fecha de Nacimiento:");
        lblFechaNacimiento.setFont(new Font("Tahoma", Font.PLAIN, 18));
        getContentPane().add(lblFechaNacimiento, "1, 12, center, center");

        lblBarrio = new JLabel("Barrio:");
        lblBarrio.setFont(new Font("Tahoma", Font.PLAIN, 18));
        getContentPane().add(lblBarrio, "1, 16, center, top");

        lblEstado = new JLabel("Estado:");
        lblEstado.setFont(new Font("Tahoma", Font.PLAIN, 18));
        getContentPane().add(lblEstado, "1, 14, center, center");

        lblLicencia = new JLabel("Numero de Licencia:");
        lblLicencia.setFont(new Font("Tahoma", Font.PLAIN, 18));
        getContentPane().add(lblLicencia, "1, 18, center, center");

        comboBox = new JComboBox<>(new DefaultComboBoxModel<>(new String[] {"Beneficiario", "Repartidor"}));
        comboBox.addItemListener(new ItemListener() {
            @Override
            public void itemStateChanged(ItemEvent e) {
                if (e.getStateChange() == ItemEvent.SELECTED) {
                    actualizarCamposVisibles();
                }
            }
        });
        getContentPane().add(txtCedula, "3, 4, left, fill");
        getContentPane().add(txtEmail, "3, 6, left, fill");
        getContentPane().add(txtDireccion, "3, 10, left, fill");
        getContentPane().add(dateChooser, "3, 12, fill, top");
        getContentPane().add(comboBoxBarrio, "3, 16, left, fill");
        getContentPane().add(comboBoxEstado, "3, 14, left, fill");
        getContentPane().add(txtLicencia, "3, 18, fill, default");
        
        actualizarCamposVisibles();

	}
	
	 private void actualizarCamposVisibles() {
	        String tipoUsuario = (String) comboBox.getSelectedItem();
	        boolean esBeneficiario = "Beneficiario".equals(tipoUsuario);

	        // Mostrar/Ocultar campos seg√∫n el tipo de usuario
	        lblDireccion.setVisible(esBeneficiario);
	        txtDireccion.setVisible(esBeneficiario);

	        lblFechaNacimiento.setVisible(esBeneficiario);
	        dateChooser.setVisible(esBeneficiario);

	        lblBarrio.setVisible(esBeneficiario);
	        comboBoxBarrio.setVisible(esBeneficiario);

	        lblEstado.setVisible(esBeneficiario);
	        comboBoxEstado.setVisible(esBeneficiario);

	        lblLicencia.setVisible(!esBeneficiario);
	        txtLicencia.setVisible(!esBeneficiario);

	        revalidate(); // Reajustar el layout
	        repaint(); // Refrescar la interfaz
	    }
	
	
}